# Сценарий защиты проекта TurixBot

## Часть 1: Рассказ о проекте

**Время:** ~3 минуты

### 1. Вступление и идея

«Здравствуйте! Вашему вниманию представляется проект **TurixBot**. Это Telegram-бот, разработанный на языке Python, который служит удобным инструментом для поиска, выбора и бронирования туристических поездок.
Основная идея проекта — упростить процесс взаимодействия между туристом и турагентством, перенеся его в привычную среду мессенджера, где не нужно скачивать отдельные приложения или долго грузить тяжелые сайты».

### 2. Проблема и решение

«Часто пользователи сталкиваются с тем, что выбор тура — это долгий процесс: нужно мониторить сайты, звонить менеджерам. TurixBot решает эту проблему, предоставляя актуальный каталог туров прямо в чате. Он работает 24/7, позволяя пользователю в любой момент посмотреть предложения, проверить свой баланс и оформить бронь».

### 3. Функционал

«Функционал бота разбит на логические модули, что обеспечивает удобство поддержки кода. Основные возможности для пользователя включают:

- **Каталог туров (`tours.py`):** Пользователь может просматривать доступные туры. Данные о турах подгружаются динамически.
- **Избранное (`favorites.py`):** Понравившиеся туры можно отложить в отдельный список, чтобы вернуться к ним позже.
- **Система бронирования (`bookings.py`):** Реализован полный цикл оформления заказа. Пользователь выбирает тур и подтверждает бронь.
- **Личный кабинет и Баланс (`profile.py`, `balance.py`):** У пользователя есть профиль, где он может видеть свои данные и текущий баланс. Реализована логика пополнения или списания средств за туры.
- **Навигация:** Удобное меню с кнопками (`buttons.py`, `keyboard.py`) позволяет интуитивно перемещаться по разделам».

### 4. Техническая реализация

«С технической точки зрения проект построен на модульной архитектуре.

- Язык разработки: **Python**.
- В качестве базы данных используется SQL (через `models.py` и `db.py`), что позволяет надежно хранить информацию о пользователях и заказах.
- Также используется работа с JSON (`data/tours.json`) для хранения или импорта статических данных о турах.
- Логика разделена на хендлеры (папка `handlers`), каждый из которых отвечает за свою зону ответственности, что делает код чистым и расширяемым».

### 5. Заключение

«В итоге, TurixBot — это полностью рабочий прототип сервиса бронирования, который может быть легко масштабирован, например, путем добавления интеграции с реальными платежными системами или API туроператоров. Спасибо за внимание, готов ответить на ваши вопросы!»

---

## Часть 2: Вопросы и Ответы (Q&A)

**Время:** ~5 минут

**Вопрос 1: Какую библиотеку вы использовали для работы с Telegram API?**
**Ответ:** «Я использовал библиотеку `telebot`. Она асинхронная, быстрая и предоставляет удобные инструменты для работы с состояниями пользователя и кнопками».

**Вопрос 2: Где хранятся данные о пользователях и их бронированиях?**
**Ответ:** «Данные хранятся в реляционной базе данных. Структура таблиц описана в файле `database/models.py`, а подключение происходит в `db.py`».

**Вопрос 3: Зачем нужен файл `tours.json` в папке `data`, если есть база данных?**
**Ответ:** «Этот файл используется как начальный источник данных (seed data). При первом запуске или обновлении каталога мы можем быстро загрузить список туров из JSON в базу данных, вместо того чтобы вбивать их вручную».

**Вопрос 4: Как реализована система "Избранного"?**
**Ответ:** «В базе данных есть таблица связей, где хранится ID пользователя и ID тура. Когда пользователь нажимает "В избранное", создается запись. При просмотре избранного бот делает выборку туров по ID пользователя».

**Вопрос 5: Что делает модуль `balance.py`? Там подключена реальная оплата?**
**Ответ:** «В рамках учебного проекта это эмуляция счета. У пользователя в базе данных есть поле `balance`. Модуль позволяет проверять его, пополнять через тестовые команды и списывать виртуальные средства при бронировании».

**Вопрос 6: Что произойдет, если я забронирую тур, а денег на балансе не хватит?**
**Ответ:** «В хендлере бронирования (`bookings.py`) стоит проверка. Перед созданием записи о брони бот сверяет стоимость тура с текущим балансом пользователя. Если средств недостаточно, бот выдаст сообщение об ошибке».

**Вопрос 7: Зачем вы разделили код на папки `handlers`, `utils`, `database`?**
**Ответ:** «Это принцип модульности. Если писать всё в одном файле, код станет нечитаемым и его будет сложно поддерживать. Такое разделение позволяет легко находить нужные функции: логика бота отдельно, работа с БД отдельно».

**Вопрос 8: Как бот запоминает, на каком этапе ввода данных находится пользователь?**
**Ответ:** «Используется механизм FSM (Finite State Machine — машина состояний). Мы задаем состояния (например, `WaitingForPayment`), чтобы бот понимал, что именно сейчас вводит пользователь».

**Вопрос 9: Сложно ли будет добавить в бота рассылку новостей всем пользователям?**
**Ответ:** «Нет, архитектура позволяет это сделать легко. Нужно будет добавить функцию, которая берет список всех `user_id` из базы данных и через цикл отправляет им сообщение».

**Вопрос 10: В чем главное преимущество вашего бота перед обычным сайтом турфирмы?**
**Ответ:** «Главное преимущество — доступность и персонализация. Бот всегда "в кармане", он помнит историю пользователя, его избранное и баланс. Плюс, интерфейс чата для многих привычнее и быстрее».
